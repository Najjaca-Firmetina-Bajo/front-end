<mat-dialog-content>
  <h2>Edit company</h2>
  <form [formGroup]="editCompanyForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Address</mat-label>
      <input matInput formControlName="address">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Average rate</mat-label>
      <input matInput formControlName="averageRating" type="number">
    </mat-form-field>

    <mat-label>Available appointments</mat-label>
    <table mat-table [dataSource]="editCompanyForm.get('availableSlots')?.value">
      <ng-container matColumnDef="pickUpDate">
        <th mat-header-cell *matHeaderCellDef>Pick Up Date</th>
        <td mat-cell *matCellDef="let appointment">{{ appointment.pickUpDate | date }}</td>
      </ng-container>

      <ng-container matColumnDef="duration">
        <th mat-header-cell *matHeaderCellDef>Duration</th>
        <td mat-cell *matCellDef="let appointment">{{ appointment.duration }}</td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef>Type</th>
        <td mat-cell *matCellDef="let appointment">{{ appointment.type }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['pickUpDate', 'duration', 'type']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['pickUpDate', 'duration', 'type'];"></tr>
    </table>

    <mat-label>Admins</mat-label>
    <table mat-table [dataSource]="editCompanyForm.get('administrators')?.value">
      <ng-container matColumnDef="phoneNumber">
        <th mat-header-cell *matHeaderCellDef>Phone Number</th>
        <td mat-cell *matCellDef="let admin">{{ admin.phoneNumber }}</td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let admin">{{ admin.email }}</td>
      </ng-container>

      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef>Username</th>
        <td mat-cell *matCellDef="let admin">{{ admin.username }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['username', 'email', 'phoneNumber']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['username', 'email', 'phoneNumber'];"></tr>
    </table>

    <div mat-dialog-actions>
      <button mat-button type="button" (click)="onCancel()">Cancel</button>
      <button mat-button color="primary" type="submit">Save</button>
    </div>
  </form>
</mat-dialog-content>
